<!DOCTYPE html>
<html>
    <head>
        <title>TúCan Speak</title>

        <link rel="icon" type="image/x-icon" href="favicon.ico">
        <link rel="stylesheet" href="https://use.typekit.net/zvd8nfm.css">
        <link rel="stylesheet" href="main.css">
        
        <meta name="description" content="">
        <meta name="keywords" content="AI ChatGPT Language Education Teaching"> 
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="sketches.js" type="text/javascript"></script>
        <script src="main.js"></script> 

    </head>

    <body onload="setCookie()">
        <div id="header">
            <div><a href="/"><strong>TÚCAN SPEAK</strong></a></div>
            <div><a href="/">HOME</a></div>
            <div><a href="/about.html">ABOUT</a></div> 
            <div><a href="/resources.html">ADDITIONAL RESOURCES</a></div>
            <div>LANGUAGE:</div>
            <button onclick="changeLanguage()"><img id="flag"/></button>
        </div>

        <br><br>
        <div class="pageContainer">
            <div class="contentWrap">
                <br>
                <div id="headLogo"><img src="logo.png"></div>
                <br>
                <div id="chat" style="text-align: center;"><img width="100px" id="loading" src="loading.gif"/><div id="answer" style="text-align: left;"></div></div>
                <form id="ask-form" onsubmit="return handleSubmit(event);">
                    <div class="wrap">    
                        <div class="search">
                            <input onclick="clickOnChat()" type="text" class="searchTerm" id="searchTerm0" name="searchTerm" placeholder="What would you like to know?">
                            <button id="searchButton" type="submit" class="searchButton">
                                <img id="icon" src="search.png">
                            </button>
                        </div>
                    </div>
                </form>
                <div id="answer"></div>
            </div>
            <div id="footer">
                <div>
                    Julian Dominguez  
                    <br>Website Creation and Programming 
                    <br><a href="mailto:juliandominguez0415@gmail.com">Email Me</a> 
                    <br>407-866-8486
                </div>

                <div>
                    Jayden Graham 
                    <br>Website Design
                    <br><a href="mailto:grahamjayden911@gmail.com">Email Me</a> 
                    <br>321-423-9919 
                </div>

                <div>
                    Angel Caguaripano 
                    <br>Instruction writing, Spanish check, and finding assets 
                    <br><a href="mailto:Angelaugustobautistaac@gmail.com">Email Me</a> 
                    <br>407-613-1566 
                </div>

                <div>
                    Angelina Ramos 
                    <br>Logo and mascot design 
                    <br><a href="mailto:Angelina.ramosh15@gmail.com">Email Me</a>
                    <br>407-288-0833 
                </div>

                <div>
                    Camila Melean 
                    <br>Branding 
                    <br><a href="mailto:Avilacamila06@gmail.com ">Email Me</a>
                    <br>407-443-3658 
                </div>

                <div>
                    Dylan Lopez Millian 
                    <br>Additional Resources 
                    <br><a href="mailto:Dylan.lopez1707@gmail.com">Email Me</a>
                    <br>321-437-7086 
                </div>

                <div>
                    Gianna Loor 
                    <br>Mission Statement, Feedback Form, and Meet the team 
                    <br><a href="mailto:Gialoor@icloud.com">Email Me</a>
                    <br>407-955-1777 
                </div>

                <div>
                    Gustavo Serate-Martinez 
                    <br>Mission Statement, Feedback Form and Meet the team 
                    <br><a href="mailto:Serategustavo@gmail.com">Email Me</a>
                    <br>321-701-4019 
                </div>

                <div>
                    Samantha Valenzuela 
                    <br>Contact Information 
                    <br><a href="mailto:sammyv0226@gmail.com">Email Me</a>
                    <br>321-333-2188 
                </div>

                <div>
                    Ms. Rodriguez
                    <br>Teacher 
                    <br><a href="mailto:Veronica.RodriguezLugo@osceolaschools.net">Email Me</a>
                </div>
            </div>
        </div>

        <img class="overlay" id="overlay1" src="overlay.png">
        <!-- <img class="overlay" id="overlay2" src="overlay2.png"> -->
    </body>

    <script>
        const form = document.getElementById('ask-form');
        const searchTermInput = document.querySelector("#searchTerm0");
        const answerElement = document.getElementById('answer');

        async function handleSubmit(event) {
            event.preventDefault();

            answerElement.innerText = "";
            const searchTerm = searchTermInput.value;
            $("#loading").css("display", "block");

            try {
                const response = await axios.post('/ask', { searchTerm });
                answerElement.innerText = response.data.answer.trim();
            } catch (error) {
                console.error(error);
                alert('An error occurred while processing your request.');
            }
            $("#loading").css("display", "none");
            return false;
        }
    </script>
</html>